import numpy as np
import matplotlib.pyplot as plt
import pickle

import matplotlib.pyplot as mpl
mpl.rcParams['font.size'] = 10
mpl.rcParams['font.family'] = "Times New Roman"


states = pickle.load(open('featureset.pt', 'rb'))
field = (states[0]['field']!=-1).astype(int)

mirror_map = np.array([
    [0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0],
    [1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0],
    [1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0],
    [1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0],
    [1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0],
    [1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0],
    [1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0],
    [1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1],
    [0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1],
    [0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1],
    [0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1],
    [0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1],
    [0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1],
    [0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1],
    [0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0],
])
rotation_map = np.array([
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
            [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3],
            [1,1,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3],
            [1,1,1,0,0,0,0,0,0,0,0,0,0,3,3,3,3],
            [1,1,1,1,0,0,0,0,0,0,0,0,3,3,3,3,3],
            [1,1,1,1,1,0,0,0,0,0,0,3,3,3,3,3,3],
            [1,1,1,1,1,1,0,0,0,0,3,3,3,3,3,3,3],
            [1,1,1,1,1,1,1,0,0,3,3,3,3,3,3,3,3],
            [1,1,1,1,1,1,1,1,0,3,3,3,3,3,3,3,3],
            [1,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3],
            [1,1,1,1,1,1,1,2,2,2,2,3,3,3,3,3,3],
            [1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3],
            [1,1,1,1,1,2,2,2,2,2,2,2,2,3,3,3,3],
            [1,1,1,1,2,2,2,2,2,2,2,2,2,2,3,3,3],
            [1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,3,3],
            [1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3],
            [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
        ])


plt.figure(figsize=(6, 2))
plt.gray()
plt.subplot(131)
plt.title('field')
plt.xticks([])
plt.yticks([])
ax=plt.imshow(field, vmin=-1, vmax=1)
ax.axes.set_aspect('equal')
plt.subplot(132)
plt.xticks([])
plt.yticks([])
plt.title('mirroring')
ax = plt.imshow(mirror_map, vmin=-1, vmax=1)
ax.axes.set_aspect('equal')
plt.subplot(133)
plt.xticks([])
plt.yticks([])
plt.title('rotation')
ax=plt.imshow(rotation_map, vmin=-1, vmax=3)
ax.axes.set_aspect('equal')
plt.savefig('symmetry_2.pdf')
plt.show()